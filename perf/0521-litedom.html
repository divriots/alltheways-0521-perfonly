<html>
<head>
<meta charset="UTF-8">

</head>
<body>
<script type="module">const t=t=>t.replace(/[-_\s+]([a-z])/g,(t=>t[1].toUpperCase())),e=(t,e,n)=>{let r=t;const o=e.split(".");for(;o.length;){const t=o.shift();r[t]=o.length?r[t]?r[t]:{}:n,r=r[t]}},n=(t,e)=>e.split(".").reduce(((t,e)=>t&&t[e]),t),r=t=>"function"==typeof t,o=(t,e)=>t&&r(t[e]),i=t=>window.getComputedStyle(t),s=t=>(new DOMParser).parseFromString(t,"text/html").body,c=[["&lt;","<"],["&gt;",">"],["&amp;","&"]],l=(e,n=!1)=>Object.freeze(Array.from(e.attributes).map((e=>({[n?t(e.name):e.name]:e.value}))).reduce(((t,e)=>({...t,...e})),{})),a=t=>function t(e){return null===e||"object"!=typeof e?e:(Object.keys(e).forEach((function(n){const r=e[n];null!==r&&"object"==typeof r&&t(r)})),Object.freeze(e))}(function(t){if(null===t||"object"!=typeof t)return t;var e=t.constructor();for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=a(t[n]));return e}(t)),u=[];for(const t in document){const e=null===document[t]||r(document[t]);t.startsWith("on")&&e&&u.push(t.substring(2))}const d="ld--elist",f=t=>"ld-on-"+t,p={$key:function(t,e,n){t.setAttribute("ref-key",e),y(t,n)},$class:function(t,e,n){const r=e.split(";").map((t=>t.split(":",2).map((t=>t.trim())))).map((t=>`\${${t[1]} ? '${t[0]}': ''}`)).join(" "),o=t.getAttribute("class")||" "+r;t.setAttribute("class",o),y(t,n)},$style:function(t,e,n){const r=t.getAttribute("style")||"",o=`\${function() { return this.__$styleMap(${e});}.call(this)}`;t.setAttribute("style",(r?r+"; ":"")+o),y(t,n)},$for:function(t,e,n){const r=/(.*)\s+(in)\s+(.*)$/.exec(e);if(4===r.length){const e=r[1].replace("(","").replace(")",""),o=r[3];$(t,`\${${o}.map(function(${e}) { return \``,"`}.bind(this)).join('')}"),y(t,n)}},$if:function(t,e,n){y(t,n),A(t,`\${${e} ? `);const r=t.nextElementSibling;r&&b(r,"else")?($(t,"`","`"),y(r,"else"),$(r,":`","`}")):$(t,"`","`:``}")}},h=t=>":"+t,b=(t,e)=>t.hasAttribute(h(e)),m=(t,e)=>t.getAttribute(h(e)),y=(t,e)=>t.removeAttribute(h(e)),g=(t,e)=>t.querySelectorAll(`[\\${h(e)}]`),A=(t,e)=>t.insertAdjacentText("beforebegin",e),$=(t,e,n)=>{A(t,e),((t,e)=>{t.insertAdjacentText("afterend",e)})(t,n)},v=["data","el","shadowDOM","template","created","updated","removed","$store","prop","tagName"],k=t=>Object.keys(t).filter((t=>!v.includes(t))).filter((t=>!t.startsWith("$"))).filter((e=>o(t,e))).reduce(((e,n)=>({...e,[n]:t[n]})),{}),w=t=>Object.keys(t).filter((e=>!o(t,e))).reduce(((e,n)=>({...e,[n]:t[n]})),{}),x=t=>Object.keys(t).filter((e=>o(t,e))).map((e=>((t,e)=>n=>n[t]=e({...n}))(e,t[e]))),M=t=>{const e=s((t=>t.replace(/\$?\{([^\;\{]+)\}/g,((t,e)=>`\${${e}}`)))(t));!function(t,e={}){const n={...e,...p};for(const e in n){const r=e.replace("$","");for(const o of g(t,r))if(b(o,r)){const t=m(o,r);n[e](o,t,r)}}}(e),function(t){for(const e of t.querySelectorAll("[\\@call], [\\@bind]")){let t=e.getAttribute("@call");const n=e.hasAttribute("@bind");e.removeAttribute("@call"),n&&(e.setAttribute("ld--bind",e.getAttribute("@bind")),e.removeAttribute("@bind"),t="__$bindInput");let r=["click"];e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?r=["input","paste"]:e instanceof HTMLSelectElement?r=["change"]:e instanceof HTMLFormElement?r=["submit"]:e instanceof HTMLAnchorElement&&e.setAttribute("href","javascript:void(0);");let o=(e.getAttribute(d)||"").split(",").filter((t=>t));o=o.concat(r),e.setAttribute(d,o.join(","));for(const n of r)e.setAttribute(f(n),t)}for(const e of u)for(const n of t.querySelectorAll(`[\\@${e}]`)){const t=(n.getAttribute(d)||"").split(",").filter((t=>t));t.push(e),n.setAttribute(d,t.join(",")),n.setAttribute(f(e),n.getAttribute("@"+e)),n.removeAttribute("@"+e),n instanceof HTMLAnchorElement&&n.setAttribute("href","javascript:void(0);")}}(e);const n=(t=>c.reduce(((t,e)=>t.replace(new RegExp(e[0],"g"),e[1])),t))(e.innerHTML),r=(t=>e=>new Function(`return \`${t}\``).call(e))(n);return{html:n,render:(t,e)=>{const n=s(r(e));return!t.isEqualNode(n)&&function t(e,n,r={}){if(r={key:t=>(t=>(t=>t instanceof HTMLElement)(t)&&t.hasAttribute("ref-key")?t.getAttribute("ref-key"):t.id)(t),...r},"string"==typeof n){const t=n;(n=document.createElement(e.nodeName)).innerHTML=t}const o=((t,e)=>Array.from(t.childNodes).filter((t=>e(t))).map((t=>({[e(t)]:t}))).reduce(((t,e)=>({...t,...e})),{}))(e,r.key);let i;for(i=0;n.firstChild;i++){const s=n.removeChild(n.firstChild);if(i>=e.childNodes.length){e.appendChild(s);continue}let c=e.childNodes[i];const a=r.key(s);if(r.key(c)||a){const t=a&&a in o?o[a]:s;t!==c&&(c=e.insertBefore(t,c))}if(c.nodeType!==s.nodeType||c.tagName!==s.tagName)e.replaceChild(s,c);else if([Node.TEXT_NODE,Node.COMMENT_NODE].indexOf(c.nodeType)>=0)c.textContent!==s.textContent&&(c.textContent=s.textContent);else if(c!==s){const e=l(c),n=l(s);for(const t in e)t in n||c.removeAttribute(t);for(const t in n)t in e&&e[t]===n[t]||c.setAttribute(t,n[t]);t(c,s)}}for(;e.childNodes.length>i;)e.removeChild(e.lastChild);return!0}(t,n)}}};function N(t){const r=t.target,o=r.getAttribute("ld--bind");if("checkbox"===r.type){const t=n(this.data,o)||[];e(this.data,o,r.checked?t.concat(r.value):t.filter((t=>t!=r.value)))}else r.options&&r.multiple?e(this.data,o,[].reduce.call(r,((t,e)=>e.selected?t.concat(e.value):t),[])):e(this.data,o,r.value)}const j={__$styleMap:t=>Object.keys(t).map((e=>`${(t=>t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(e)}: ${t[e]};`)).join(" ")};function O(t={}){const e={shadowDOM:!1,tagName:null,data:{},template:null,$store:{getState:()=>{},subscribe:()=>()=>{}},created(){},updated(){},removed(){},...t},r=(t=>e=>(e.$store=t.getState(),t.subscribe((n=>e.$store={...t.getState()}))))(e.$store),o=M(e.template),i=k(e),s=w(e.data),c=x(e.data),u=(t=>Object.keys(t).filter((t=>t.startsWith("$"))).filter((t=>!v.includes(t))).reduce(((e,n)=>({...e,[n]:t[n]})),{}))(e),p=t=>c.forEach((e=>e(t)));window.customElements.define(e.tagName.toLowerCase(),class extends HTMLElement{constructor(){super(),this.$root=e.shadowDOM?this.attachShadow({mode:"open"}):this}connectedCallback(){this.$eventHooks={updated:[],removed:[]},this._state={...this._state,...s,prop:l(this,!0)};const t=((t,e)=>{let n=!1,r=!1;const o=new WeakMap,i=()=>{n?r||(r=!0):e()},s={get(t,e,n){if("#"===e)return t;const r=Reflect.get(t,e,n);if((t=>null===t||!["function","object"].includes(typeof t))(r)||"constructor"===e)return r;const i=((t,e)=>{let n=o.get(t);if(n)return n;n=new Map,o.set(t,n);let r=n.get(e);return r||(r=Reflect.getOwnPropertyDescriptor(t,e),n.set(e,r)),r})(t,e);if(i&&!i.configurable){if(i.set&&!i.get)return;if(!1===i.writable)return r}return new Proxy(r,s)},set(t,e,n,r){n&&void 0!==n["#"]&&(n=n["#"]);const o=Reflect.get(t,e,r),s=Reflect.set(t,e,n);return o!==n&&i(),s},defineProperty(t,e,n){const r=Reflect.defineProperty(t,e,n);return i(),r},deleteProperty(t,e){const n=Reflect.deleteProperty(t,e);return i(),n},apply(t,o,i){if(!n){n=!0;const s=Reflect.apply(t,o,i);return r&&e(),n=r=!1,s}return Reflect.apply(t,o,i)}};return new Proxy(t,s)})(this._state,(()=>{p(this._state),o.render(this.$root,{...this._state,...j})&&e.updated.call(this.context)}));this.disconnectStore=r(t),this.$root.innerHTML=o.html,this.context={...i,...u,data:t,el:this.$root,prop:this._state.prop,$store:e.$store},function(t,e){function r(t){Array.from(t.querySelectorAll(`[${d}]`)).map((t=>{(t.getAttribute(d)||"").split(",").filter((t=>t)).map((n=>{t["on"+n]=r=>{r.preventDefault();const o=t.getAttribute(f(n));e[o].call(e,r)}}))}))}Array.from(t.querySelectorAll("[ld--bind]")).map((t=>{const r=n(e.data,t.getAttribute("ld--bind"));try{"INPUT"===t.tagName&&["radio","checkbox"].includes(t.type)?r.includes(t.value)&&(t.checked=!0):t.value=r}catch(t){}}));new MutationObserver((t=>{[...t].filter((t=>t.addedNodes.length>0)).map((t=>t.target)).map((t=>r(t)))})).observe(t,{attributes:!0,childList:!0,subtree:!0}),r(t)}(this.$root,{...this.context,__$bindInput:N}),((t,e,n)=>{Object.keys(e).filter((t=>!t.startsWith("_"))).map((r=>t[r]=e[r].bind(n)))})(this,i,this.context),p(this._state),o.render(this.$root,{...this._state,...j}),e.created.call(this.context)}disconnectedCallback(){e.removed.call(this.context),this.disconnectStore(),this.$eventHooks=[]}get data(){return a(this._state)}})}function T(t){const e={el:null,refId:null,template:null,tagName:null,shadowDOM:!1,...t};let n=null;const r=!!e.tagName;if(e.tagName=e.tagName||"litedom-"+((t=7)=>Math.random().toString(36).substr(2,t).toLowerCase())(),e.el&&(n=(t=>"string"==typeof t?document.querySelector(t):t)(e.el),(t=>"hidden"===i(t).visibility)(n)&&(n.style.visibility="visible"),(t=>"none"===i(t).display)(n)&&(n.style.display=""),e.template||(e.template=n.innerHTML),n.innerHTML="",!r)){const t=document.createElement(e.tagName);e.refId&&t.setAttribute("ref-id",e.refId),n.parentNode.replaceChild(t,n)}if(!e.template)throw(t=>new Error("Litedom Error: "+t))("missing 'template' option or 'el' are not valid elements");O(e)}((t,e={})=>{Array.isArray(t)?t.map((t=>T({...e,...t}))):T(t)})({tagName:"my-counter",shadowDOM:!0,template:'\n  <button @click="dec">-</button>\n  <span>{this.count}</span>\n  <button @click="inc">+</button>\n  <style>\n    * {\n      font-size: 200%;\n    }\n\n    span {\n      width: 4rem;\n      display: inline-block;\n      text-align: center;\n    }\n\n    button {\n      width: 64px;\n      height: 64px;\n      border: none;\n      border-radius: 10px;\n      background-color: seagreen;\n      color: white;\n    }\n  </style>\n  ',data:{count:0},dec(){this.data.count--},inc(){this.data.count++}});
//# sourceMappingURL=index.js.map
</script>
<my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter>
</body>
</html>