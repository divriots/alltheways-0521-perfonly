<html>
<head>
<meta charset="UTF-8">

</head>
<body>
<script type="module">var t;!function(t){t[t.NF=0]="NF",t[t.IS=1]="IS",t[t.TM=2]="TM"}(t||(t={}));const e=t=>{if(t instanceof HTMLTemplateElement)return t;{const e=document.createElement("template");return e.innerHTML=t,e}},n=n=>{if(n instanceof HTMLElement)return n;const o=(e=>{try{return document.querySelector(e)||t.NF}catch{return t.IS}})(n);return o instanceof HTMLElement?o:e(n)},o=(t,e,n="")=>{const i={};return[i,new Proxy(t,{get:(r,s)=>(i.hasOwnProperty(s)||("object"!=typeof t[s]||t[s]instanceof HTMLElement?i[s]=t[s]:(i[s]=o(t[s],e,n+s+".")[1],i[s].__prefix=n)),i[s]),set:(t,r,s)=>("object"==typeof s?(i[r]=o(s,e,n+r+".")[1],i[r].__prefix=n):i[r]=s,e(n+r),!0)})]},i=/(\{\{([^\{|^\}]+)\}\})/gi,r=t=>{let e,n=[];const o=/(this\.[\w+|\d*]*)+/gi;for(;e=o.exec(t);)n.push(e[1]);return{paths:n,expression:t,expressions:n.length&&t.match(i)||[]}},s=(t,e,n,i=[])=>{const s={},c=(t,e)=>{s[t]?s[t].push(e):s[t]=[e]},a=(t=>e=>{Object.keys(t).forEach((n=>n.startsWith("this."+e)?t[n].forEach((t=>t())):void 0))})(s);let l=o(e,a)[1];const u=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT);let d=u.nextNode();for(;d;){if(d.nodeType===Node.ELEMENT_NODE){Array.from(d.attributes).forEach((t=>{const{expression:o,paths:s}=r(t.nodeValue);if(i.forEach((i=>{if(i.attribute===t.nodeName||i.attribute(t)){requestAnimationFrame((()=>{t.ownerElement.removeAttribute(t.nodeName)}));const r=i.process({attribute:t,componentHandler:e,expression:o,paths:s,componentNode:n,targetNode:t.ownerElement});if(r){const t=new Function("return "+o.slice(2,-2)+";");s.forEach((e=>c(e,(()=>{const e=t.call(l);r(e)}))))}}})),t.nodeValue.includes("{{")&&o)if(t.nodeName.startsWith("on")){const e=t.nodeName.slice(2),i=new Function("event","component",o.slice(2,-2)+";");d.setAttribute("on"+e,""),d.removeAttribute("on"+e),d["on"+e]=t=>{i.call(l,t,n)}}else s.forEach((e=>{const i=new Function("component","return "+o.slice(2,-2)+";");c(e,(()=>{t.nodeValue=String(i.call(l,n))}))}))})),d=u.nextNode();continue}if(!(d.nodeValue||"").includes("{{")){d=u.nextNode();continue}const{expression:t,expressions:o,paths:s}=r(d.nodeValue);if(t){const t=d.nodeValue||"",e=o.reduce(((t,e)=>(t[e]=new Function("component","return "+e.slice(2,-2).trim()),t)),{}),n=d,i=()=>Object.keys(e).reduce(((t,n)=>{const o=e[n].call(l);let i=void 0===o?"":o;return t.split(n).join(i)}),t);s.forEach((t=>{c(t,(()=>{n.data=i()}))}))}d=u.nextNode()}return[l,a]},c=[],a=e=>{const{TM:o}=t,i=n(e);return{template:null,shadow:!1,data:{},[o]:{mountPoint:i,root:i},initialize:function(t){const{properties:e,closed:n,directives:i}=t,r=this[o].mountPoint;this.shadow&&null===r.shadowRoot&&(this[o].root=r.attachShadow({mode:n?"closed":"open"}));const a=this.template.content.cloneNode(!0),[l,u]=s(a,this.data,r,[...c,...i||[]]);return e&&Object.entries(e).forEach((([t,e])=>{l[t]=e,Object.defineProperty(r,t,{get:()=>l[t],set:e=>l[t]=e})})),u(),[a,l,r]},render:function(t){const e=this[o].root;this.shadow?e.appendChild(t):requestAnimationFrame((()=>{e.appendChild(t)}))}}};function l(t){if(!t.mount&&t.tag)return u(t);const n=a(t.mount);n.template=e(t.template),n.shadow=!!t.shadow,n.data=t.this||{};const[o,i,r]=n.initialize(t);return"function"==typeof t.init&&t.init.call(i,r),n.render(o),i}const u=t=>{customElements.define(t.tag,class extends HTMLElement{constructor(){super(...arguments),this.proxy=l({...t,mount:this})}static get observedAttributes(){return t.attributes?Object.keys(t.attributes):[]}connectedCallback(){"function"==typeof t.connectedCallback&&t.connectedCallback.call(this.proxy,this)}disconnectedCallback(){"function"==typeof t.disconnectedCallback&&t.disconnectedCallback.call(this.proxy,this)}attributeChangedCallback(e,n,o){t.attributes&&"function"==typeof t.attributes[e]&&t.attributes[e].call(this.proxy,o,n,this)}})};l({tag:"my-counter",shadow:!0,template:'\n    <style>\n      * {\n        font-size: 200%;\n      }\n\n      span {\n        width: 4rem;\n        display: inline-block;\n        text-align: center;\n      }\n\n      button {\n        width: 64px;\n        height: 64px;\n        border: none;\n        border-radius: 10px;\n        background-color: seagreen;\n        color: white;\n      }\n    </style>\n    <button onclick="{{this.decrease()}}">-</button>\n    <span>{{this.count}}</span>\n    <button onclick="{{this.increase()}}" >+</button>\n    ',properties:{count:0},this:{increase:function(){this.count++},decrease:function(){this.count--}}});
//# sourceMappingURL=index.js.map
</script>
<my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter><my-counter></my-counter>
</body>
</html>